<!DOCTYPE html>
<html>
<head>
    <title>Checkout</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>Pay â‚¹5</h2>
<button id="rzp-button">Pay Now</button>

<script>
var options = {
    "key": "{{ key_id }}",
    "amount": "{{ order['amount'] }}",
    "currency": "{{ order['currency'] }}",
    "name": "My App",
    "description": "Token Payment",
    "order_id": "{{ order['id'] }}",

    "handler": function (response){
        var form = document.createElement("form");
        form.method = "POST";
        form.action = "/payment-success";

        var input = document.createElement("input");
        input.type = "hidden";
        input.name = "razorpay_payment_id";
        input.value = response.razorpay_payment_id;

        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
};

document.getElementById('rzp-button').onclick = function(e){
    var rzp = new Razorpay(options);
    rzp.open();
    e.preventDefault();
}
</script>

</body>
</html>